<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>그대에게 닿을 나의 이야기</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --bg-color: #fdfaf5; 
            --main-text: #333;
            --point-color: #8da490; 
            --border-color: #e0dcd5;
        }

        body {
            font-family: 'Pretendard', 'Malgun Gothic', sans-serif;
            background-color: var(--bg-color);
            color: var(--main-text);
            line-height: 1.8;
            margin: 0;
            padding: 0;
            word-break: keep-all;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 50px 25px;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.05);
        }

        /* 경고 안내 박스 */
        .top-warning {
            background-color: #fff4f4;
            border: 1px solid #f5c6cb;
            color: #721c24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 30px;
            font-size: 0.9rem;
            text-align: center;
        }

        .btn-area {
            position: sticky;
            top: 20px;
            text-align: right;
            margin-bottom: 30px;
            z-index: 100;
        }

        button {
            background-color: var(--point-color);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }

        header {
            text-align: center;
            margin-bottom: 60px;
        }

        .main-title { font-size: 2rem; color: #4a5a4c; margin-bottom: 10px; }
        .sub-title { font-size: 1.2rem; color: #7a8a99; margin-bottom: 5px; }
        .disclaimer { font-size: 0.9rem; color: #999; }

        h2 { color: var(--point-color); border-bottom: 2px solid var(--point-color); padding-bottom: 5px; margin-top: 50px; }
        h3 { color: #555; margin-top: 30px; border-left: 4px solid var(--point-color); padding-left: 10px; }
        
        .content-section { margin-bottom: 40px; white-space: pre-wrap; }
        
        .input-box {
            margin: 15px 0 25px 0;
            background: #f9fbf9;
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
        }

        label { display: block; font-weight: bold; margin-bottom: 10px; color: #444; }

        textarea {
            width: 100%;
            min-height: 100px;
            border: 1px solid #d1dbd3;
            border-radius: 8px;
            padding: 15px;
            font-size: 1rem;
            font-family: inherit;
            resize: none;
            background-color: #fff;
            box-sizing: border-box;
        }

        .selection-area { margin: 15px 0; }
        .option-item { display: flex; align-items: center; margin-bottom: 12px; }
        .option-item input[type="radio"] { 
            width: 20px; height: 20px; accent-color: var(--point-color); cursor: pointer; margin-right: 10px;
        }
        .option-item label { display: inline; font-weight: normal; cursor: pointer; margin: 0; }

        .footer {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 2px solid var(--point-color);
            font-size: 0.95rem;
        }

        .contact-box {
            background: #f4f4f4;
            padding: 25px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 5px solid var(--point-color);
        }

        .security-info {
            text-align: center;
            font-size: 0.85rem;
            color: #d9534f;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .association-info { margin-top: 15px; line-height: 1.6; }
        .link-text { color: var(--point-color); text-decoration: none; font-weight: bold; }

        @media print { .btn-area, .top-warning { display: none; } }
    </style>
</head>
<body>

<div class="container" id="workbook-pdf">
    <div class="top-warning">
        ⚠️ <strong>주의:</strong> 본 페이지는 개인정보 보호를 위해 작성 내용을 서버에 저장하지 않습니다.<br>
        창을 닫거나 새로고침하면 내용이 삭제되니, <strong>작성 후 반드시 하단의 PDF 저장 버튼</strong>을 이용해 주세요.
    </div>

    <div class="btn-area">
        <button onclick="savePDF()">📄 PDF로 저장 및 전송</button>
    </div>

    <header>
        <div class="main-title">📘 그대에게 닿을 나의 이야기</div>
        <div class="sub-title">부제: 삶의 갈무리와 사랑하는 이들을 위한 기록</div>
        <div class="disclaimer">(비상업적 용도의 무료 배포를 권장합니다)</div>
    </header>

    <div class="content-section">
본 워크북은 존엄치료(Dignity Therapy)의 철학을 바탕으로, 삶의 궤적을 정리하고 사랑하는 이들에게 정서적 유산을 남기고자 하는 분들을 위해 제작되었습니다.
    </div>

    <h2>Ⅰ. 시작하며: 존엄의 가치</h2>
    <div class="content-section">
인간은 신체적으로 약해질지라도, 자신의 삶을 반추하고 목소리를 낼 수 있을 때 진정한 존엄을 유지합니다. 이 워크북은 하비 맥스 초치노프 박사의 '존엄 모델'을 기반으로 설계되었으며, 당신을 단순한 '환자'가 아닌 '풍성한 역사를 지닌 고유한 인격체'로 조명합니다.

<strong>🎯 핵심 목표</strong>
고통의 완화: 삶의 의미를 재발견함으로써 허무함과 존재적 불안을 줄입니다.
자아의 통합: 과거와 현재를 연결하여 '나'라는 존재의 연속성을 회복합니다.
정서적 유대: 사랑하는 이들과의 관계 속에서 자신의 위치를 다시 확인합니다.

<strong>🎁 기록의 의미: 유산 문서(Legacy Document)</strong>
이 워크북을 통해 완성될 기록은 단순히 과거를 적은 종이가 아니라, 세상에 남길 당신의 소중한 유산입니다.

나에게 주는 선물: 흩어진 삶의 조각들을 하나로 모아 평온하게 매듭짓는 '삶의 통합'
가족에게 주는 선물: 당신의 목소리가 담긴 기록을 통해 슬픔을 극복할 힘을 얻는 '치유의 자원'
    </div>

    <h2>Ⅱ. 마음지기(진행자) 가이드</h2>
    <div class="content-section">
<strong>-기본 원칙 (3No)</strong>
작성자의 심리적 안전을 위해 다음의 3No 원칙을 반드시 지켜주세요.
1. No Correction (교정 금지): 조언이나 비판 없이 있는 그대로 수용하기.
2. No Hurrying (침묵 존중): 눈물과 침묵도 대화의 일부입니다. 충분히 기다려 주기.
3. No Pressure (강요 금지): 답변하기 힘든 질문은 언제든 건너뛰기.

<strong>- 상황별 대응 및 전문가 연계</strong>
• 감정의 동요: "괜찮습니다, 천천히 하셔도 됩니다"라며 안심시켜 드립니다.
• 죄책감 표현: "그 당시 상황에서 최선을 다하신 것임을 압니다"라고 공감합니다.

• 중단 신호: 자살 암시, 극심한 공황, 현실 판단 저하가 나타나면 즉시 중단하고 전문가의 도움을 요청하십시오.
    </div>

    <h2>Ⅲ. [워크북] 나의 삶, 나의 목소리</h2>

    <h3>제1장. 눈부신 기억의 조각 (에너지 회복)</h3>
    <div class="input-box">
        <label>• 황금기: 당신의 인생에서 가장 빛나던 시절은 언제였으며, 그때 당신은 어떤 모습이었나요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 행복의 장면: 떠올리기만 해도 미소가 지어지는 소중한 장소나 순간은 어디인가요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• [심화 질문]: 그 시절의 냄새나 소리가 기억나시나요? 어린 날 꿈꾸던 당신의 모습은 어땠나요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• [활동]: 리즈 시절 사진 붙이기 또는 행복했던 장면 그리기</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>

    <h3>제2장. 삶을 일군 긍지와 성취 (자존감 회복)</h3>
    <div class="input-box">
        <label>• 자랑스러운 나: 부모, 배우자, 혹은 직업인으로서 스스로가 대견했던 최고의 순간은?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 나를 지탱한 힘: 모진 풍파 속에서도 당신을 일으켜 세운 신념이나 사람은 누구인가요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 나의 정의: “나는 [ ]한 사람이었다.”</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• [활동]: 나에게 수여하는 ‘인생 공로상’ 작성하기</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>

    <h3>제3장. 사랑하는 이들에게 띄우는 편지 (관계의 완성)</h3>
    <div class="input-box">
        <label>• 못다 한 진심: 쑥스러워 차마 전하지 못했던 "고맙다", "미안하다", "사랑한다"는 말을 남겨주세요.</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 용서와 화해: 마음에 담아두었던 응어리나, 이제는 편안히 놓고 싶은 기억이 있나요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• [심화 질문]: 가족에게 꼭 물려주고 싶은 나만의 손맛(레시피)이나 습관이 있나요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• [활동]: 가족 한 명 한 명에게 전하는 릴레이 메시지</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>

    <h3>제4장. 세상에 남기는 지혜 (유산의 영속성)</h3>
    <div class="input-box">
        <label>• 삶의 이정표: 후손들이 인생의 비바람을 만났을 때 길을 잃지 않도록 해줄 조언은 무엇인가요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 축복의 한 마디: 다음 세대가 이것만은 꼭 지키며 살길 바라는 가치가 있나요?</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>
    <div class="input-box">
        <label>• 마지막 문장: “나의 삶은 [ ]였다.”</label>
        <textarea oninput="autoResize(this)"></textarea>
    </div>

    <h2>Ⅳ. 유산 문서(Legacy Document) 활용</h2>
    <div class="content-section">
1. 보관: 정돈된 글과 함께 당시의 대화 음성(USB/QR)을 함께 보관하면 감동이 배가됩니다.

<strong>2. 전달 방식 (본인 선택):</strong>
<div class="selection-area">
    <div class="option-item">
        <input type="radio" id="delivery1" name="delivery_method">
        <label for="delivery1">지금 가족과 함께 읽으며 온기를 나누기</label>
    </div>
    <div class="option-item">
        <input type="radio" id="delivery2" name="delivery_method">
        <label for="delivery2">특정 기념일(생일, 결혼기념일 등)에 전달하기</label>
    </div>
    <div class="option-item">
        <input type="radio" id="delivery3" name="delivery_method">
        <label for="delivery3">사후 유품으로 전달하여 마지막 위로 전하기</label>
    </div>
</div>
    </div>

    <div class="footer">
        <div class="security-info">
            ※ 이 페이지의 체크 결과는 사용자 브라우저에만 저장됩니다(서버로 전송되지 않음).
        </div>

        <p><strong>💡 기록을 돕는 '말문 열기' 팁</strong></p>
        <p>• 오감을 자극하세요: "어땠나요?"보다 "그때 어떤 소리가 들렸고 어떤 냄새가 났나요?"라고 질문하면 기억이 더 선명해집니다.<br>
        • 취향을 물어보세요: 사소한 취향(좋아하는 노래, 커피, 꽃)을 묻는 것이 큰 이야기의 시작이 될 수 있습니다.<br>
        • 동행자가 되어주세요: 당신은 치료자가 아니라, 인생이라는 여행을 함께 돌아보는 동행자임을 잊지 마세요.</p>
        
        <p style="font-size: 0.8rem; color: #888; margin-top: 30px;">⚖️ 저작권 안내: 본 자료는 비상업적 용도로 자유롭게 활용 가능하며, 재배포 시 출처를 명시해 주시기 바랍니다.</p>
        
        <p><strong>🌿 맺음말:</strong><br>
        인생은 완벽해서 아름다운 것이 아니라, 당신이라는 소중한 흔적이 남기에 아름답습니다. 이 기록은 당신이 남기는 마지막 선물인 동시에, 지금의 당신을 안아주는 따뜻한 시간이 될 것입니다.</p>

        <div class="contact-box">
            <div style="font-size:1.1rem; font-weight:bold; color:var(--point-color); margin-bottom:10px;">웰다잉통합예술교육협회</div>
            <div style="font-style:italic; margin-bottom:15px;">"존엄은 우연히 주어지지 않습니다. 준비하는 만큼, 삶은 마지막까지 ‘나의 것’이 됩니다."</div>
            
            <div class="association-info">
                <strong>프로그램 문의:</strong> 010-5635-7989 | wia-edu@naver.com<br>
                <strong>홈페이지:</strong> <a href="http://wia-edu.org" class="link-text" target="_blank">wia-edu.org</a><br>
                <strong>블로그:</strong> <a href="http://blog.naver.com/say2sky" class="link-text" target="_blank">blog.naver.com/say2sky</a>
            </div>
        </div>
    </div>
</div>

<script>
    // 1. 텍스트 박스 자동 높이 조절
    function autoResize(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    }

    // 2. 이탈 방지 경고창 기능
    window.onbeforeunload = function() {
        return "작성 중인 내용이 저장되지 않고 사라질 수 있습니다. 정말 나가시겠습니까?";
    };

    // 3. PDF 저장 기능
    function savePDF() {
        const element = document.getElementById('workbook-pdf');
        const opt = {
            margin: [10, 10, 10, 10],
            filename: '그대에게_닿을_나의_이야기.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
        };

        const btn = document.querySelector('.btn-area');
        const warning = document.querySelector('.top-warning');
        
        // 저장 시 불필요한 부분 숨기기
        btn.style.display = 'none';
        warning.style.display = 'none';

        html2pdf().set(opt).from(element).save().then(() => {
            btn.style.display = 'block';
            warning.style.display = 'block';
        });
    }
</script>

</body>
</html>
